<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo da Velha - FuriaDaNoitePlay</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ===== RESET E CONFIGURA√á√ïES GERAIS ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --vermelho-furia: #ff0000;
            --vermelho-escuro: #cc0000;
            --azul-neon: #0066ff;
            --amarelo-neon: #FFD700;
            --verde-adm: #00ff00;
            --preto: #0c0c0c;
            --cinza-escuro: #1a1a2e;
        }
        
        body {
            background: linear-gradient(135deg, var(--preto) 0%, var(--cinza-escuro) 50%, #16213e 100%);
            color: #fff;
            font-family: 'Arial', sans-serif;
            min-height: 100vh;
            text-align: center;
            padding: 20px;
        }
        
        /* ===== CABE√áALHO ===== */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 2px solid var(--vermelho-furia);
            margin-bottom: 30px;
        }
        
        .back-btn {
            background: linear-gradient(135deg, var(--azul-neon), #0044cc);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .back-btn:hover {
            background: linear-gradient(135deg, #0044cc, var(--azul-neon));
            box-shadow: 0 0 15px var(--azul-neon);
            transform: translateY(-2px);
        }
        
        .logo {
            width: 60px;
            height: 60px;
            border-radius: 10px;
            box-shadow: 0 0 15px var(--vermelho-furia);
        }
        
        .title {
            color: var(--vermelho-furia);
            font-size: 28px;
            text-transform: uppercase;
            text-shadow: 0 0 20px var(--vermelho-furia);
        }
        
        /* ===== CONTAINER DO JOGO ===== */
        .game-container {
            max-width: 600px;
            margin: 0 auto;
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid var(--vermelho-furia);
            border-radius: 15px;
            box-shadow: 0 0 25px var(--vermelho-furia);
            padding: 25px;
        }
        
        .game-title {
            color: var(--vermelho-furia);
            font-size: 32px;
            text-shadow: 0 0 20px var(--vermelho-furia);
            margin-bottom: 5px;
        }
        
        .game-subtitle {
            color: #ccc;
            font-size: 16px;
            margin-bottom: 25px;
        }
        
        /* ===== INFORMA√á√ïES DO JOGO ===== */
        .game-info {
            display: flex;
            justify-content: space-between;
            width: 100%;
            background: rgba(0, 0, 0, 0.8);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid var(--vermelho-furia);
            margin-bottom: 25px;
        }
        
        .player-info {
            text-align: center;
        }
        
        .player-icon {
            font-size: 30px;
            margin-bottom: 5px;
        }
        
        .player-x .player-icon {
            color: var(--azul-neon);
            text-shadow: 0 0 10px var(--azul-neon);
        }
        
        .player-o .player-icon {
            color: var(--amarelo-neon);
            text-shadow: 0 0 10px var(--amarelo-neon);
        }
        
        .player-name {
            font-size: 14px;
            font-weight: bold;
        }
        
        .current-player {
            color: var(--verde-adm);
            font-weight: bold;
            text-shadow: 0 0 10px var(--verde-adm);
        }
        
        .score-display {
            font-size: 24px;
            font-weight: bold;
            color: var(--vermelho-furia);
            text-shadow: 0 0 10px var(--vermelho-furia);
        }
        
        /* ===== TABULEIRO ===== */
        .game-board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-gap: 10px;
            width: 100%;
            max-width: 400px;
            margin: 0 auto 25px;
        }
        
        .cell {
            aspect-ratio: 1/1;
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid var(--vermelho-furia);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.3);
        }
        
        .cell:hover {
            background: rgba(255, 0, 0, 0.1);
            box-shadow: 0 0 15px var(--vermelho-furia);
            transform: scale(1.05);
        }
        
        .cell.x {
            color: var(--azul-neon);
            text-shadow: 0 0 20px var(--azul-neon);
        }
        
        .cell.o {
            color: var(--amarelo-neon);
            text-shadow: 0 0 20px var(--amarelo-neon);
        }
        
        /* ===== CONTROLES ===== */
        .game-controls {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .btn-game {
            background: linear-gradient(135deg, var(--vermelho-furia), var(--vermelho-escuro));
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            min-width: 160px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-game:hover {
            background: linear-gradient(135deg, var(--vermelho-escuro), var(--vermelho-furia));
            box-shadow: 0 0 20px var(--vermelho-furia);
            transform: translateY(-3px);
        }
        
        .btn-game.secondary {
            background: linear-gradient(135deg, var(--azul-neon), #0044cc);
        }
        
        .btn-game.secondary:hover {
            background: linear-gradient(135deg, #0044cc, var(--azul-neon));
            box-shadow: 0 0 20px var(--azul-neon);
        }
        
        /* ===== DIFICULDADE ===== */
        .difficulty-selector {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        
        .difficulty-btn {
            background: rgba(0, 0, 0, 0.7);
            color: #ccc;
            border: 1px solid var(--vermelho-furia);
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .difficulty-btn.active {
            background: var(--vermelho-furia);
            color: white;
            box-shadow: 0 0 15px var(--vermelho-furia);
        }
        
        /* ===== MENSAGENS ===== */
        .message-area {
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid var(--vermelho-furia);
        }
        
        .win-message {
            color: var(--verde-adm);
            text-shadow: 0 0 15px var(--verde-adm);
            animation: pulse 1.5s infinite;
        }
        
        .lose-message {
            color: var(--vermelho-furia);
            text-shadow: 0 0 15px var(--vermelho-furia);
        }
        
        .draw-message {
            color: var(--amarelo-neon);
            text-shadow: 0 0 15px var(--amarelo-neon);
        }
        
        @keyframes pulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }
        
        /* ===== RESPONSIVIDADE ===== */
        @media (max-width: 768px) {
            .game-board {
                max-width: 300px;
            }
            
            .cell {
                font-size: 50px;
            }
            
            .btn-game {
                min-width: 140px;
                padding: 10px 20px;
            }
            
            .header {
                flex-direction: column;
                gap: 15px;
            }
            
            .title {
                font-size: 24px;
            }
        }
        
        @media (max-width: 480px) {
            .game-board {
                max-width: 280px;
            }
            
            .cell {
                font-size: 40px;
            }
            
            .game-title {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <!-- ===== CABE√áALHO ===== -->
    <div class="header">
        <a href="index.html" class="back-btn">
            <i class="fas fa-arrow-left"></i> VOLTAR
        </a>
        
        <div>
            <img src="f√∫ria.png" alt="Logo F√∫ria" class="logo">
            <h1 class="title">FURIA DA NOITE</h1>
        </div>
        
        <div style="width: 100px;"></div> <!-- Espa√ßador -->
    </div>
    
    <!-- ===== CONTAINER DO JOGO ===== -->
    <div class="game-container">
        <h2 class="game-title">üéÆ JOGO DA VELHA DA F√öRIA</h2>
        <p class="game-subtitle">Desafie a IA da Noite e mostre seu poder!</p>
        
        <!-- Informa√ß√µes do jogo -->
        <div class="game-info">
            <div class="player-info player-x">
                <div class="player-icon">X</div>
                <div class="player-name">VOC√ä</div>
                <div class="score-display" id="playerScore">0</div>
            </div>
            
            <div class="player-info">
                <div style="font-size: 14px; color: #ccc; margin-top: 10px;">
                    Vez: <span id="currentPlayer" class="current-player">Voc√™ (X)</span>
                </div>
            </div>
            
            <div class="player-info player-o">
                <div class="player-icon">O</div>
                <div class="player-name">IA DA NOITE</div>
                <div class="score-display" id="aiScore">0</div>
            </div>
        </div>
        
        <!-- Tabuleiro do jogo -->
        <div class="game-board" id="gameBoard">
            <!-- C√©lulas ser√£o geradas por JavaScript -->
        </div>
        
        <!-- √Årea de mensagens -->
        <div class="message-area" id="messageArea">
            Selecione a dificuldade e clique em "Novo Jogo" para come√ßar!
        </div>
        
        <!-- Seletor de dificuldade -->
        <div class="difficulty-selector">
            <button class="difficulty-btn active" data-difficulty="easy">F√ÅCIL üåô</button>
            <button class="difficulty-btn" data-difficulty="medium">M√âDIO üî•</button>
            <button class="difficulty-btn" data-difficulty="hard">IMPOSS√çVEL üíÄ</button>
        </div>
        
        <!-- Controles do jogo -->
        <div class="game-controls">
            <button class="btn-game" id="newGameBtn">
                <i class="fas fa-play-circle"></i> NOVO JOGO
            </button>
            <button class="btn-game secondary" id="resetScoreBtn">
                <i class="fas fa-redo"></i> ZERAR PLACAR
            </button>
        </div>
    </div>
    
    <!-- ===== RODAP√â ===== -->
    <footer style="margin-top: 40px; color: #ff0000; text-shadow: 0 0 10px #ff0000;">
        <p>¬© 2025 FuriaDaNoitePlay - Jogo da Velha | @ToxicSkull‚àö</p>
        <p>"A f√∫ria n√£o dorme, ela espera." üåôüî•</p>
    </footer>

    <script>
        // ===== VARI√ÅVEIS GLOBAIS DO JOGO =====
        let board = ['', '', '', '', '', '', '', '', ''];
        let currentPlayer = 'X'; // Jogador √© X, IA √© O
        let gameActive = false;
        let scores = { player: 0, ai: 0, draws: 0 };
        let difficulty = 'medium'; // Padr√£o: m√©dio
        
        // Combina√ß√µes vencedoras
        const winningConditions = [
            [0, 1, 2], [3, 4, 5], [6, 7, 8], // Linhas
            [0, 3, 6], [1, 4, 7], [2, 5, 8], // Colunas
            [0, 4, 8], [2, 4, 6]             // Diagonais
        ];
        
        // ===== INICIALIZA√á√ÉO DO JOGO =====
        function initializeGame() {
            // Criar o tabuleiro
            const gameBoard = document.getElementById('gameBoard');
            gameBoard.innerHTML = '';
            
            for (let i = 0; i < 9; i++) {
                const cell = document.createElement('div');
                cell.classList.add('cell');
                cell.setAttribute('data-index', i);
                cell.addEventListener('click', () => cellClicked(i));
                gameBoard.appendChild(cell);
            }
            
            // Configurar bot√µes de dificuldade
            document.querySelectorAll('.difficulty-btn').forEach(button => {
                button.addEventListener('click', function() {
                    document.querySelectorAll('.difficulty-btn').forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    difficulty = this.getAttribute('data-difficulty');
                    updateMessage(`Dificuldade alterada para: ${this.textContent}`);
                });
            });
            
            // Configurar bot√µes de controle
            document.getElementById('newGameBtn').addEventListener('click', startNewGame);
            document.getElementById('resetScoreBtn').addEventListener('click', resetScore);
            
            // Carregar pontua√ß√£o salva
            const savedScores = localStorage.getItem('furiaTicTacToeScores');
            if (savedScores) {
                scores = JSON.parse(savedScores);
                updateScoreDisplay();
            }
            
            // Atualizar exibi√ß√£o inicial
            updateMessage('Selecione a dificuldade e clique em "Novo Jogo" para come√ßar!');
        }
        
        // ===== FUN√á√ïES DO JOGO =====
        function startNewGame() {
            // Resetar o tabuleiro
            board = ['', '', '', '', '', '', '', '', ''];
            gameActive = true;
            currentPlayer = 'X';
            
            // Atualizar exibi√ß√£o
            updateBoardDisplay();
            updateCurrentPlayerDisplay();
            updateMessage('Sua vez! Voc√™ √© X. Clique em uma c√©lula para jogar.');
        }
        
        function cellClicked(index) {
            if (!gameActive || board[index] !== '' || currentPlayer !== 'X') return;
            
            // Fazer a jogada do jogador
            makeMove(index, 'X');
            
            // Verificar se o jogo acabou
            if (checkGameResult()) return;
            
            // Alternar para a IA
            currentPlayer = 'O';
            updateCurrentPlayerDisplay();
            updateMessage('IA da Noite est√° pensando...');
            
            // IA faz sua jogada ap√≥s um pequeno delay
            setTimeout(makeAiMove, 600);
        }
        
        function makeMove(index, player) {
            board[index] = player;
            updateBoardDisplay();
        }
        
        function makeAiMove() {
            if (!gameActive || currentPlayer !== 'O') return;
            
            let moveIndex;
            
            // L√≥gica da IA baseada na dificuldade
            switch(difficulty) {
                case 'easy':
                    moveIndex = getEasyAiMove();
                    break;
                case 'medium':
                    moveIndex = getMediumAiMove();
                    break;
                case 'hard':
                    moveIndex = getHardAiMove();
                    break;
                default:
                    moveIndex = getMediumAiMove();
            }
            
            // Fazer a jogada da IA
            makeMove(moveIndex, 'O');
            
            // Verificar se o jogo acabou
            if (!checkGameResult()) {
                currentPlayer = 'X';
                updateCurrentPlayerDisplay();
                updateMessage('Sua vez! Escolha uma c√©lula.');
            }
        }
        
        function getEasyAiMove() {
            // IA f√°cil: escolhe aleatoriamente
            const emptyCells = board.map((cell, index) => cell === '' ? index : null).filter(val => val !== null);
            
            // 30% de chance de fazer uma jogada ruim (se houver)
            if (Math.random() < 0.3 && emptyCells.length > 1) {
                // Evitar bloquear vit√≥rias do jogador
                const winningMoves = getWinningMoves('X');
                const blockingMoves = getWinningMoves('O');
                
                // Remover jogadas boas
                const badMoves = emptyCells.filter(index => 
                    !winningMoves.includes(index) && !blockingMoves.includes(index)
                );
                
                if (badMoves.length > 0) {
                    return badMoves[Math.floor(Math.random() * badMoves.length)];
                }
            }
            
            // Jogada normal
            return emptyCells[Math.floor(Math.random() * emptyCells.length)];
        }
        
        function getMediumAiMove() {
            // IA m√©dia: tenta vencer ou bloquear, sen√£o joga aleatoriamente
            
            // 1. Verificar se pode vencer
            const winningMove = findWinningMove('O');
            if (winningMove !== -1) return winningMove;
            
            // 2. Verificar se precisa bloquear o jogador
            const blockingMove = findWinningMove('X');
            if (blockingMove !== -1) return blockingMove;
            
            // 3. Jogar no centro se dispon√≠vel
            if (board[4] === '') return 4;
            
            // 4. Jogar em um canto se dispon√≠vel
            const corners = [0, 2, 6, 8];
            const availableCorners = corners.filter(index => board[index] === '');
            if (availableCorners.length > 0) {
                return availableCorners[Math.floor(Math.random() * availableCorners.length)];
            }
            
            // 5. Jogar em uma borda
            const edges = [1, 3, 5, 7];
            const availableEdges = edges.filter(index => board[index] === '');
            if (availableEdges.length > 0) {
                return availableEdges[Math.floor(Math.random() * availableEdges.length)];
            }
            
            // Fallback: qualquer c√©lula vazia
            const emptyCells = board.map((cell, index) => cell === '' ? index : null).filter(val => val !== null);
            return emptyCells[0];
        }
        
        function getHardAiMove() {
            // IA dif√≠cil: usa algoritmo Minimax (quase perfeita)
            
            // 1. Verificar se pode vencer
            const winningMove = findWinningMove('O');
            if (winningMove !== -1) return winningMove;
            
            // 2. Verificar se precisa bloquear
            const blockingMove = findWinningMove('X');
            if (blockingMove !== -1) return blockingMove;
            
            // 3. Usar Minimax para a melhor jogada
            return minimax(board, 'O').index;
        }
        
        function findWinningMove(player) {
            for (let i = 0; i < winningConditions.length; i++) {
                const [a, b, c] = winningConditions[i];
                const cells = [board[a], board[b], board[c]];
                
                // Contar c√©lulas do jogador e vazias
                const playerCount = cells.filter(cell => cell === player).length;
                const emptyCount = cells.filter(cell => cell === '').length;
                
                if (playerCount === 2 && emptyCount === 1) {
                    // Retornar a c√©lula vazia nesta combina√ß√£o
                    if (board[a] === '') return a;
                    if (board[b] === '') return b;
                    if (board[c] === '') return c;
                }
            }
            
            return -1; // Nenhuma jogada vencedora encontrada
        }
        
        function getWinningMoves(player) {
            const moves = [];
            for (let i = 0; i < winningConditions.length; i++) {
                const [a, b, c] = winningConditions[i];
                const cells = [board[a], board[b], board[c]];
                
                const playerCount = cells.filter(cell => cell === player).length;
                const emptyCount = cells.filter(cell => cell === '').length;
                
                if (playerCount === 2 && emptyCount === 1) {
                    if (board[a] === '') moves.push(a);
                    if (board[b] === '') moves.push(b);
                    if (board[c] === '') moves.push(c);
                }
            }
            return moves;
        }
        
        // Algoritmo Minimax para IA dif√≠cil
        function minimax(newBoard, player) {
            // Verificar estado do jogo
            const gameResult = checkGameState(newBoard);
            
            if (gameResult === 'X') return {score: -10};
            if (gameResult === 'O') return {score: 10};
            if (gameResult === 'draw') return {score: 0};
            
            // Array para armazenar todas as jogadas poss√≠veis
            const moves = [];
            
            // Gerar todas as jogadas poss√≠veis
            for (let i = 0; i < newBoard.length; i++) {
                if (newBoard[i] === '') {
                    const move = {};
                    move.index = i;
                    
                    // Fazer a jogada
                    newBoard[i] = player;
                    
                    // Chamar minimax recursivamente para o pr√≥ximo jogador
                    if (player === 'O') {
                        const result = minimax(newBoard, 'X');
                        move.score = result.score;
                    } else {
                        const result = minimax(newBoard, 'O');
                        move.score = result.score;
                    }
                    
                    // Desfazer a jogada
                    newBoard[i] = '';
                    
                    // Adicionar a jogada ao array
                    moves.push(move);
                }
            }
            
            // Escolher a melhor jogada
            let bestMove;
            if (player === 'O') {
                let bestScore = -Infinity;
                for (let i = 0; i < moves.length; i++) {
                    if (moves[i].score > bestScore) {
                        bestScore = moves[i].score;
                        bestMove = i;
                    }
                }
            } else {
                let bestScore = Infinity;
                for (let i = 0; i < moves.length; i++) {
                    if (moves[i].score < bestScore) {
                        bestScore = moves[i].score;
                        bestMove = i;
                    }
                }
            }
            
            return moves[bestMove];
        }
        
        function checkGameState(boardState) {
            // Verificar vit√≥rias
            for (let i = 0; i < winningConditions.length; i++) {
                const [a, b, c] = winningConditions[i];
                if (boardState[a] && boardState[a] === boardState[b] && boardState[a] === boardState[c]) {
                    return boardState[a]; // Retorna 'X' ou 'O'
                }
            }
            
            // Verificar empate
            if (!boardState.includes('')) {
                return 'draw';
            }
            
            return null; // Jogo ainda n√£o acabou
        }
        
        function checkGameResult() {
            const result = checkGameState(board);
            
            if (result === 'X') {
                // Jogador venceu
                gameActive = false;
                scores.player++;
                updateScoreDisplay();
                saveScores();
                updateMessage('üéâ VOC√ä VENCEU! A F√∫ria est√° com voc√™!', 'win');
                return true;
            } else if (result === 'O') {
                // IA venceu
                gameActive = false;
                scores.ai++;
                updateScoreDisplay();
                saveScores();
                updateMessage('üíÄ A IA da Noite venceu! Tente novamente!', 'lose');
                return true;
            } else if (result === 'draw') {
                // Empate
                gameActive = false;
                scores.draws++;
                updateScoreDisplay();
                saveScores();
                updateMessage('ü§ù EMPATE! A batalha foi equilibrada!', 'draw');
                return true;
            }
            
            return false; // Jogo continua
        }
        
        // ===== FUN√á√ïES DE ATUALIZA√á√ÉO DA INTERFACE =====
        function updateBoardDisplay() {
            const cells = document.querySelectorAll('.cell');
            cells.forEach((cell, index) => {
                cell.textContent = board[index];
                cell.className = 'cell';
                if (board[index] === 'X') {
                    cell.classList.add('x');
                } else if (board[index] === 'O') {
                    cell.classList.add('o');
                }
            });
        }
        
        function updateCurrentPlayerDisplay() {
            const currentPlayerElement = document.getElementById('currentPlayer');
            if (currentPlayer === 'X') {
                currentPlayerElement.textContent = 'Voc√™ (X)';
                currentPlayerElement.style.color = '#0066ff';
            } else {
                currentPlayerElement.textContent = 'IA da Noite (O)';
                currentPlayerElement.style.color = '#FFD700';
            }
        }
        
        function updateScoreDisplay() {
            document.getElementById('playerScore').textContent = scores.player;
            document.getElementById('aiScore').textContent = scores.ai;
        }
        
        function updateMessage(message, type = '') {
            const messageArea = document.getElementById('messageArea');
            messageArea.textContent = message;
            
            // Remover classes anteriores
            messageArea.classList.remove('win-message', 'lose-message', 'draw-message');
            
            // Adicionar classe conforme o tipo
            if (type === 'win') {
                messageArea.classList.add('win-message');
            } else if (type === 'lose') {
                messageArea.classList.add('lose-message');
            } else if (type === 'draw') {
                messageArea.classList.add('draw-message');
            }
        }
        
        function resetScore() {
            if (confirm('Tem certeza que deseja zerar o placar?')) {
                scores = { player: 0, ai: 0, draws: 0 };
                updateScoreDisplay();
                saveScores();
                updateMessage('Placar zerado! Inicie um novo jogo.');
            }
        }
        
        function saveScores() {
            localStorage.setItem('furiaTicTacToeScores', JSON.stringify(scores));
        }
        
        // ===== INICIALIZAR O JOGO =====
        document.addEventListener('DOMContentLoaded', function() {
            initializeGame();
            
            // Efeito de brilho no t√≠tulo
            const title = document.querySelector('.game-title');
            setInterval(() => {
                const intensity = Math.random() * 20 + 10;
                title.style.textShadow = `0 0 ${intensity}px #ff0000`;
            }, 1000);
        });
    </script>
</body>
</html>
